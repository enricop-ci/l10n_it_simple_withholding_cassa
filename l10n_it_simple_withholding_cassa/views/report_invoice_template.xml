<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="report_invoice_document_custom" inherit_id="account.report_invoice_document">

    <!-- Aggiungiamo il totale fattura prima del netto a pagare -->
    <xpath expr="//div[@id='right-elements']//table[contains(@class, 'o_total_table')]//tr[last()]" position="before">
      <tr>
        <td><strong>Totale Fattura:</strong></td>
        <td class="text-end">
          <span t-field="o.amount_total" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
        </td>
      </tr>
    </xpath>

    <!-- Aggiungiamo gli stili minimi necessari -->
    <xpath expr="." position="inside">
      <style>
        .o_total_table td {
          padding: 2px 8px !important;
          line-height: 1.2 !important;
        }
      </style>
    </xpath>

  </template>
</odoo>

